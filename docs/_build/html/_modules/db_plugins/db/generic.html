<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>db_plugins.db.generic &mdash; ALeRCE Pipeline  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            ALeRCE Pipeline
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../modules.html">APF</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">ALeRCE Pipeline</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">db_plugins.db.generic</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for db_plugins.db.generic</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">abc</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">ceil</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Type</span>


<div class="viewcode-block" id="DatabaseCreator"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.DatabaseCreator">[docs]</a><span class="k">class</span> <span class="nc">DatabaseCreator</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract DatabaseConnection creator class.</span>

<span class="sd">    The Creator class declares the factory method that is supposed to return an</span>
<span class="sd">    object of a Product class. The Creator&#39;s subclasses usually provide the</span>
<span class="sd">    implementation of this method.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="DatabaseCreator.create_database"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.DatabaseCreator.create_database">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_database</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Abstract factory method.</span>

<span class="sd">        Note that the Creator may also provide some default implementation of</span>
<span class="sd">        the factory method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="DatabaseConnection"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.DatabaseConnection">[docs]</a><span class="k">class</span> <span class="nc">DatabaseConnection</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract DatabaseConnection class.</span>

<span class="sd">    Main database connection interface declares common functionality</span>
<span class="sd">    to all databases</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="DatabaseConnection.connect"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.DatabaseConnection.connect">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initiate the database connection.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

<div class="viewcode-block" id="DatabaseConnection.create_db"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.DatabaseConnection.create_db">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_db</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create database collections or tables.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

<div class="viewcode-block" id="DatabaseConnection.drop_db"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.DatabaseConnection.drop_db">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">drop_db</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove database collections or tables.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

<div class="viewcode-block" id="DatabaseConnection.query"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.DatabaseConnection.query">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a query object.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="new_DBConnection"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.new_DBConnection">[docs]</a><span class="k">def</span> <span class="nf">new_DBConnection</span><span class="p">(</span><span class="n">creator</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">DatabaseCreator</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">DatabaseConnection</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new database connection.</span>

<span class="sd">    The client code works with an instance of a concrete creator,</span>
<span class="sd">    albeit through its base interface. As long as the client keeps working with</span>
<span class="sd">    the creator via the base interface, you can pass it any creator&#39;s subclass.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">creator</span><span class="o">.</span><span class="n">create_database</span><span class="p">()</span></div>


<div class="viewcode-block" id="BaseQuery"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.BaseQuery">[docs]</a><span class="k">class</span> <span class="nc">BaseQuery</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract Query class.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="BaseQuery.check_exists"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.BaseQuery.check_exists">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">check_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">filter_by</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if a model exists in the database.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

<div class="viewcode-block" id="BaseQuery.get_or_create"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.BaseQuery.get_or_create">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_or_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">filter_by</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a model if it doesn&#39;t exist in the database.</span>

<span class="sd">        It always returns a model instance and whether it was created or not.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

<div class="viewcode-block" id="BaseQuery.update"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.BaseQuery.update">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a model instance with specified args.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

<div class="viewcode-block" id="BaseQuery.paginate"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.BaseQuery.paginate">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">paginate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">per_page</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a pagination object from this query.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

<div class="viewcode-block" id="BaseQuery.bulk_insert"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.BaseQuery.bulk_insert">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">bulk_insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objects</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Insert multiple objects to the database.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

<div class="viewcode-block" id="BaseQuery.find_all"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.BaseQuery.find_all">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">find_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve all items from the result of this query.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

<div class="viewcode-block" id="BaseQuery.find_one"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.BaseQuery.find_one">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">find_one</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_by</span><span class="o">=</span><span class="p">{},</span> <span class="n">model</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve only one item from the result of this query.</span>

<span class="sd">        Returns None if result is empty.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="Pagination"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.Pagination">[docs]</a><span class="k">class</span> <span class="nc">Pagination</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Paginate responses from the database.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">page</span><span class="p">,</span> <span class="n">per_page</span><span class="p">,</span> <span class="n">total</span><span class="p">,</span> <span class="n">items</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set attributes from args.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">query</span> <span class="o">=</span> <span class="n">query</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">page</span> <span class="o">=</span> <span class="n">page</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">per_page</span> <span class="o">=</span> <span class="n">per_page</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">total</span> <span class="o">=</span> <span class="n">total</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="n">items</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get total number of pages.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">per_page</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">total</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">pages</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">pages</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">ceil</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">total</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">per_page</span><span class="p">)))</span>
        <span class="k">return</span> <span class="n">pages</span>

<div class="viewcode-block" id="Pagination.prev"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.Pagination.prev">[docs]</a>    <span class="k">def</span> <span class="nf">prev</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a :class:`Pagination` object for the previous page.&quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">query</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">),</span> <span class="s2">&quot;a query object is required for this method to work&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">paginate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">page</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">per_page</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">prev_num</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get number of the previous page.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_prev</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">page</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">has_prev</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if a previous page exists.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">page</span> <span class="o">&gt;</span> <span class="mi">1</span>

<div class="viewcode-block" id="Pagination.next"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.Pagination.next">[docs]</a>    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a :class:`Pagination` object for the next page.&quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">query</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">),</span> <span class="s2">&quot;a query object is required for this method to work&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">paginate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">page</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">per_page</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">has_next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if a next page exists.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">page</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">pages</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">next_num</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get number of the next page.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_next</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">page</span> <span class="o">+</span> <span class="mi">1</span></div>


<div class="viewcode-block" id="PaginationNoCount"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.PaginationNoCount">[docs]</a><span class="k">class</span> <span class="nc">PaginationNoCount</span><span class="p">(</span><span class="n">Pagination</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">page</span><span class="p">,</span> <span class="n">per_page</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">has_next</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">page</span><span class="p">,</span> <span class="n">per_page</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_has_next</span> <span class="o">=</span> <span class="n">has_next</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">has_next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if a previous page exists.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_next</span></div>


<div class="viewcode-block" id="AbstractObject"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.AbstractObject">[docs]</a><span class="k">class</span> <span class="nc">AbstractObject</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract Object model.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    oid: str</span>
<span class="sd">        object identifier</span>
<span class="sd">    nobs: str</span>
<span class="sd">        number of observations</span>
<span class="sd">    lastmjd: float</span>
<span class="sd">        date (in mjd) of the last observation</span>
<span class="sd">    firstmjd: float</span>
<span class="sd">        date (in mjd) of the first observation</span>
<span class="sd">    meanra: float</span>
<span class="sd">        mean right ascension coordinates</span>
<span class="sd">    meandec: float</span>
<span class="sd">        mean declination coordinates</span>
<span class="sd">    sigmara: float</span>
<span class="sd">        error for right ascension coordinates</span>
<span class="sd">    sigmadec: float</span>
<span class="sd">        error for declination coordinates</span>
<span class="sd">    deltajd: float</span>
<span class="sd">        difference between last and first mjd</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">oid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ndethist</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ncovhist</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">mjdstarthist</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">mjdendhist</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">corrected</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">stellar</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ndet</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">g_r_max</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">g_r_max_corr</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">g_r_mean</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">g_r_mean_corr</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">meanra</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">meandec</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sigmara</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sigmadec</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">deltajd</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">firstmjd</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">lastmjd</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">step_id_corr</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="AbstractObject.get_lightcurve"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.AbstractObject.get_lightcurve">[docs]</a>    <span class="k">def</span> <span class="nf">get_lightcurve</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the lightcurve of the object.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div></div>


<div class="viewcode-block" id="AbstractMagnitudeStatistics"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.AbstractMagnitudeStatistics">[docs]</a><span class="k">class</span> <span class="nc">AbstractMagnitudeStatistics</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract Magnitude Statistics model.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    magnitude_type : str</span>
<span class="sd">        the type of the magnitude, could be psf or ap</span>
<span class="sd">    fid : int</span>
<span class="sd">        magnitude band identifier, 1 for red, 2 for green</span>
<span class="sd">    mean : float</span>
<span class="sd">        mean magnitude meassured</span>
<span class="sd">    median : float</span>
<span class="sd">        median of the magnitude</span>
<span class="sd">    max_mag : float</span>
<span class="sd">        maximum value of magnitude meassurements</span>
<span class="sd">    min_mag : float</span>
<span class="sd">        minimum value of magnitude meassurements</span>
<span class="sd">    sigma : float</span>
<span class="sd">        error of magnitude meassurements</span>
<span class="sd">    last : float</span>
<span class="sd">        value for the last magnitude meassured</span>
<span class="sd">    first : float</span>
<span class="sd">        value for the first magnitude meassured</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">oid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">fid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">stellar</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">corrected</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ndet</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ndubious</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">dmdt_first</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">dm_first</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sigmadm_first</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">dt_first</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">magmean</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">magmedian</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">magmax</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">magmin</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">magsigma</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">maglast</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">magfirst</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">firstmjd</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">lastmjd</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">step_id_corr</span> <span class="o">=</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="AbstractNonDetection"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.AbstractNonDetection">[docs]</a><span class="k">class</span> <span class="nc">AbstractNonDetection</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract model for non detections.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    mjd : float</span>
<span class="sd">        date of the non detection in mjd</span>
<span class="sd">    diffmaglim: float</span>
<span class="sd">        magnitude of the non detection</span>
<span class="sd">    fid : int</span>
<span class="sd">        band identifier 1 for red, 2 for green</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">mjd</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">diffmaglim</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">fid</span> <span class="o">=</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="AbstractDetection"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.AbstractDetection">[docs]</a><span class="k">class</span> <span class="nc">AbstractDetection</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract model for detections.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    candid : str</span>
<span class="sd">        candidate identifier</span>
<span class="sd">    mjd : float</span>
<span class="sd">        date of the detection in mjd</span>
<span class="sd">    fid : int</span>
<span class="sd">        band identifier, 1 for red, 2 for green</span>
<span class="sd">    ra : float</span>
<span class="sd">        right ascension coordinates</span>
<span class="sd">    dec : float</span>
<span class="sd">        declination coordinates</span>
<span class="sd">    rb : int</span>
<span class="sd">        real bogus</span>
<span class="sd">    magap : float</span>
<span class="sd">        ap magnitude</span>
<span class="sd">    magpsf : float</span>
<span class="sd">        psf magnitude</span>
<span class="sd">    sigmapsf : float</span>
<span class="sd">        error for psf magnitude</span>
<span class="sd">    sigmagap : float</span>
<span class="sd">        error for ap magnitude</span>
<span class="sd">    magpsf_corr : float</span>
<span class="sd">        magnitude correction for magpsf</span>
<span class="sd">    magap_corr : float</span>
<span class="sd">        magnitude correction for magap</span>
<span class="sd">    sigmapsf_corr : float</span>
<span class="sd">        correction for sigmapsf</span>
<span class="sd">    sigmagap_corr : float</span>
<span class="sd">        correction for sigmagap</span>
<span class="sd">    avro : string</span>
<span class="sd">        url for avro file in s3</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">avro</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">oid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">candid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">mjd</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">fid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">pid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">diffmaglim</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">isdiffpos</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">nid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ra</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">dec</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">magpsf</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sigmapsf</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">magap</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sigmagap</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">distnr</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">rb</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">rbversion</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">drb</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">drbversion</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">magapbig</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sigmagapbig</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">rfid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">magpsf_corr</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sigmapsf_corr</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sigmapsf_corr_ext</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">corrected</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">dubious</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">parent_candid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">has_stamp</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">step_id_corr</span> <span class="o">=</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="AbstractDataquality"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.AbstractDataquality">[docs]</a><span class="k">class</span> <span class="nc">AbstractDataquality</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract Dataquality model.&quot;&quot;&quot;</span>

    <span class="n">candid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">oid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">fid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">xpos</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ypos</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">chipsf</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sky</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">fwhm</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">classtar</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">mindtoedge</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">seeratio</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aimage</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">bimage</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aimagerat</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">bimagerat</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">nneg</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">nbad</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sumrat</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">scorr</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">dsnrms</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ssnrms</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">magzpsci</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">magzpsciunc</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">magzpscirms</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">nmatches</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">clrcoeff</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">clrcounc</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">zpclrcov</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">zpmed</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">clrmed</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">clrrms</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">exptime</span> <span class="o">=</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="AbstractGaia_ztf"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.AbstractGaia_ztf">[docs]</a><span class="k">class</span> <span class="nc">AbstractGaia_ztf</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract Gaia model.&quot;&quot;&quot;</span>

    <span class="n">oid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">candid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">neargaia</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">neargaiabright</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">maggaia</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">maggaiabright</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">unique</span> <span class="o">=</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="AbstractSs_ztf"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.AbstractSs_ztf">[docs]</a><span class="k">class</span> <span class="nc">AbstractSs_ztf</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract ss_ztf model.&quot;&quot;&quot;</span>

    <span class="n">oid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">candid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ssdistnr</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ssmagnr</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ssnamenr</span> <span class="o">=</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="AbstractPs1_ztf"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.AbstractPs1_ztf">[docs]</a><span class="k">class</span> <span class="nc">AbstractPs1_ztf</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract ps1_ztf model.&quot;&quot;&quot;</span>

    <span class="n">oid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">candid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">objectidps1</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sgmag1</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">srmag1</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">simag1</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">szmag1</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sgscore1</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">distpsnr1</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">objectidps2</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sgmag2</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">srmag2</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">simag2</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">szmag2</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sgscore2</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">distpsnr2</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">objectidps3</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sgmag3</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">srmag3</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">simag3</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">szmag3</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sgscore3</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">distpsnr3</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">nmtchps</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">unique1</span> <span class="o">=</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="AbstractReference"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.AbstractReference">[docs]</a><span class="k">class</span> <span class="nc">AbstractReference</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract reference model.&quot;&quot;&quot;</span>

    <span class="n">oid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">rfid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">candiid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">fid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">rcid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">field</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">magnr</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sigmagnr</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">chinr</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sharpnr</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ranr</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">decnr</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">mjdstartref</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">mjdendref</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">nframesref</span> <span class="o">=</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="AbstractPipeline"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.AbstractPipeline">[docs]</a><span class="k">class</span> <span class="nc">AbstractPipeline</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract pipeline model.&quot;&quot;&quot;</span>

    <span class="n">pipeline_id</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">step_id_corr</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">step_id_feat</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">step_id_clf</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">step_id_out</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">step_id_stamp</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">date</span> <span class="o">=</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="AbstractStep"><a class="viewcode-back" href="../../../db_plugins.db.html#db_plugins.db.generic.AbstractStep">[docs]</a><span class="k">class</span> <span class="nc">AbstractStep</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract Step model.&quot;&quot;&quot;</span>

    <span class="n">step_id</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">version</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">comments</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">date</span> <span class="o">=</span> <span class="kc">None</span></div>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, ALeRCE Devs.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>